include(CMakeFindDependencyMacro)

# Capturing values from configure (optional)
#set(my-config-var @my-config-var@)

# Same syntax as find_package
#find_dependency(MYDEP REQUIRED)

# Any extra setup

include(CheckCCompilerFlag)
check_c_compiler_flag ("-frounding-math" COMPILER_SUPPORTS_FROUNDING_MATH)
if (COMPILER_SUPPORTS_FROUNDING_MATH)
  add_compile_options("-frounding-math")
endif ()
check_c_compiler_flag ("-ffloat-store" COMPILER_SUPPORTS_FFLOAT_STORE)
if (COMPILER_SUPPORTS_FFLOAT_STORE)
  add_compile_options("-ffloat-store")
endif ()
check_c_compiler_flag ("-fno-fast-math" COMPILER_SUPPORTS_FNO_FAST_MATH)
if (COMPILER_SUPPORTS_FNO_FAST_MATH)
  add_compile_options("-fno-fast-math")
endif ()
check_c_compiler_flag ("-ffp-contract=off" COMPILER_SUPPORTS_FFP_CONTRACT_OFF)  
if (COMPILER_SUPPORTS_FFP_CONTRACT_OFF)
  add_compile_options("-ffp-contract=off")
endif ()
check_c_compiler_flag ("-ffp-mode=full" COMPILER_SUPPORTS_FFP_MODE_FULL)  
if (COMPILER_SUPPORTS_FFP_MODE_FULL)
  add_compile_options("-ffp-mode=full")
endif ()
check_c_compiler_flag ("-fp-model=strict" COMPILER_SUPPORTS_FP_MODEL_STRICT)  
if (COMPILER_SUPPORTS_FP_MODEL_STRICT)
  add_compile_options("-fp-model=strict")
endif ()
check_c_compiler_flag ("-fp:strict" COMPILER_SUPPORTS_FP_STRICT)  
if (COMPILER_SUPPORTS_FP_STRICT)
  add_compile_options("-fp:strict")
endif ()
check_c_compiler_flag ("-mpc64" COMPILER_SUPPORTS_MPC64)  
if (COMPILER_SUPPORTS_MPC64)
  add_compile_options("-mpc64")
endif ()

# Add the targets file
include("${CMAKE_CURRENT_LIST_DIR}/mathlibTargets.cmake")