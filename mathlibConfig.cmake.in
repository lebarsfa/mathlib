#if(MSVC)
#  add_compile_options(-fp:strict)
#else()
  # Get the list of currently enabled languages
  get_property(ENABLED_LANGUAGES GLOBAL PROPERTY ENABLED_LANGUAGES)
  if("C" IN_LIST ENABLED_LANGUAGES)
    include(CheckCCompilerFlag)
    check_c_compiler_flag("-frounding-math" C_COMPILER_SUPPORTS_FROUNDING_MATH)
    if(C_COMPILER_SUPPORTS_FROUNDING_MATH)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-frounding-math>)
    endif()
    check_c_compiler_flag("-ffloat-store" C_COMPILER_SUPPORTS_FFLOAT_STORE)
    if(C_COMPILER_SUPPORTS_FFLOAT_STORE)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-ffloat-store>)
    endif()
    check_c_compiler_flag("-fno-fast-math" C_COMPILER_SUPPORTS_FNO_FAST_MATH)
    if(C_COMPILER_SUPPORTS_FNO_FAST_MATH)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-fno-fast-math>)
    endif()
    check_c_compiler_flag("-ffp-contract=off" C_COMPILER_SUPPORTS_FFP_CONTRACT_OFF)  
    if(C_COMPILER_SUPPORTS_FFP_CONTRACT_OFF)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-ffp-contract=off>)
    endif()
    check_c_compiler_flag("-ffp-mode=full" C_COMPILER_SUPPORTS_FFP_MODE_FULL)  
    if(C_COMPILER_SUPPORTS_FFP_MODE_FULL)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-ffp-mode=full>)
    endif()
    check_c_compiler_flag("-fp-model=strict" C_COMPILER_SUPPORTS_FP_MODEL_STRICT)  
    if(C_COMPILER_SUPPORTS_FP_MODEL_STRICT)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-fp-model=strict>)
    endif()
    check_c_compiler_flag("-fp:strict" C_COMPILER_SUPPORTS_FP_STRICT)  
    if(C_COMPILER_SUPPORTS_FP_STRICT)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-fp:strict>)
    endif()
    check_c_compiler_flag("-mpc64" C_COMPILER_SUPPORTS_MPC64)  
    if(C_COMPILER_SUPPORTS_MPC64)
      add_compile_options($<$<COMPILE_LANGUAGE:C>:-mpc64>)
    endif()
  endif()
  if("CXX" IN_LIST ENABLED_LANGUAGES)
    include(CheckCXXCompilerFlag)
    check_cxx_compiler_flag("-frounding-math" CXX_COMPILER_SUPPORTS_FROUNDING_MATH)
    if(CXX_COMPILER_SUPPORTS_FROUNDING_MATH)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-frounding-math>)
    endif()
    check_cxx_compiler_flag("-ffloat-store" CXX_COMPILER_SUPPORTS_FFLOAT_STORE)
    if(CXX_COMPILER_SUPPORTS_FFLOAT_STORE)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-ffloat-store>)
    endif()
    check_cxx_compiler_flag("-fno-fast-math" CXX_COMPILER_SUPPORTS_FNO_FAST_MATH)
    if(CXX_COMPILER_SUPPORTS_FNO_FAST_MATH)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-fno-fast-math>)
    endif()
    check_cxx_compiler_flag("-ffp-contract=off" CXX_COMPILER_SUPPORTS_FFP_CONTRACT_OFF)  
    if(CXX_COMPILER_SUPPORTS_FFP_CONTRACT_OFF)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-ffp-contract=off>)
    endif()
    check_cxx_compiler_flag("-ffp-mode=full" CXX_COMPILER_SUPPORTS_FFP_MODE_FULL)  
    if(CXX_COMPILER_SUPPORTS_FFP_MODE_FULL)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-ffp-mode=full>)
    endif()
    check_cxx_compiler_flag("-fp-model=strict" CXX_COMPILER_SUPPORTS_FP_MODEL_STRICT)  
    if(CXX_COMPILER_SUPPORTS_FP_MODEL_STRICT)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-fp-model=strict>)
    endif()
    check_cxx_compiler_flag("-fp:strict" CXX_COMPILER_SUPPORTS_FP_STRICT)  
    if(CXX_COMPILER_SUPPORTS_FP_STRICT)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-fp:strict>)
    endif()
    check_cxx_compiler_flag("-mpc64" CXX_COMPILER_SUPPORTS_MPC64)  
    if(CXX_COMPILER_SUPPORTS_MPC64)
      add_compile_options($<$<COMPILE_LANGUAGE:CXX>:-mpc64>)
    endif()
  endif()
#endif()

include("${CMAKE_CURRENT_LIST_DIR}/mathlibTargets.cmake")
